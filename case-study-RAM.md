#Case-study оптимизации RAM
Актуальная проблема
После первой оптимизации CPU. Удалось агреггировать данные файла с 100 000 строк за менее 30 секунд.
Но была выявленна следующая проблема. Программа потребялем много оперативной памяти. При файле со 100 000 строк данных затрачивается 2445 Mb RAM.
Я решил исправить эту проблему, оптимизировав эту программу.

###Цель
Потребление ОЗУ менее 75Mb при 100 000 строк данных.

###Формирование метрики
Для того, чтобы понимать, дают ли мои изменения положительный эффект на быстродействие программы я буду вычислять потребление оперативной памяти на тестовом файле в 100 строк.
Для понимая того какая будет асимтотика я собрал замеры потребления ОЗУ на разном кол-ве строк данных
 



| Кол-во строк  | Byte       | Kb        |    Mb  |
| ------------- |:----------:|:---------:|:------:|
|   **10**      |337856      |329,94     |0,32    |
|   **20**      |337856      |337,70     |0,33    |
|   **30**      |354632      |346,32     |0,34    |
|   **50**      |370176      |361,50     |0,35    |
|   **100**     |411640      |401,99     |0,39    |
|   **500**     |738888      |721,57     |0,70    |
|   **100000**  |2564204832  |2504106,28 |2445,42 |
    
![diagram](https://raw.githubusercontent.com/VidgarVii/rails-optimization-2-task2/task-2-optimaiz-ram/benchmarks/RAM/diagram.jpg)

Гарантия корректности работы оптимизированной программы
Написан rspec тест.

###Feedback-Loop
Для того, чтобы иметь возможность быстро проверять гипотезы я выстроил эффективный feedback-loop, который позволил мне получать обратную связь по эффективности сделанных изменений за время, которое у вас получилось

Вот как я построил feedback_loop: как вы построили feedback_loop

Вникаем в детали системы, чтобы найти главные точки роста
Для того, чтобы найти "точки роста" для оптимизации я воспользовался инструментами, которыми вы воспользовались

Вот какие проблемы удалось найти и решить

Ваша находка №1
какой отчёт показал главную точку роста
как вы решили её оптимизировать
как изменилась метрика
как изменился отчёт профилировщика
Ваша находка №2
какой отчёт показал главную точку роста
как вы решили её оптимизировать
как изменилась метрика
как изменился отчёт профилировщика
Ваша находка №X
какой отчёт показал главную точку роста
как вы решили её оптимизировать
как изменилась метрика
как изменился отчёт профилировщика
Результаты
В результате проделанной оптимизации наконец удалось обработать файл с данными. Удалось улучшить метрику системы с того, что у вас было в начале, до того, что получилось в конце и уложиться в заданный бюджет.

Какими ещё результами можете поделиться

Защита от регрессии производительности
Для защиты от потери достигнутого прогресса при дальнейших изменениях программы о performance-тестах, которые вы написали